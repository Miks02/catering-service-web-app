<!DOCTYPE html>
<html lang="sr" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="~{layouts/admin :: head}"></head>
<body>

<div class="admin-wrapper">
    <aside th:replace="~{layouts/admin :: adminSidebar}"></aside>

    <div class="admin-content">
        <header class="admin-topbar">
            <button type="button" class="topbar-mobile-toggle" id="mobileToggle">
                <i class="bi bi-list"></i>
            </button>

            <h1 class="topbar-title">
                <i class="bi bi-speedometer2"></i>
                Kontrolna tabla
            </h1>

            <div class="topbar-actions">
                <a th:href="@{/public}" class="topbar-btn btn-site">
                    <i class="bi bi-globe"></i>
                    <span>Sajt</span>
                </a>

                <div class="topbar-user">
                    <div class="topbar-user-avatar">
                        <i class="bi bi-person-fill"></i>
                    </div>
                    <span class="topbar-user-name" sec:authorize="isAuthenticated()" sec:authentication="name">Admin</span>
                </div>
            </div>
        </header>

        <main class="admin-main">
            <div class="page-header">
                <h2 class="page-title">
                    <i class="bi bi-house-door"></i>
                    Dobrodošli nazad!
                </h2>
                <p class="page-subtitle">Evo pregleda vaše ketering platforme i trenutnog stanja poslovanja.</p>
            </div>

            <div class="row g-3 mb-4">
                <div class="col-xl-3 col-md-6">
                    <div class="admin-card text-center" style="background: linear-gradient(135deg, #17730a 0%, #0d8228 100%); color: white;">
                        <i class="bi bi-cart3" style="font-size: 3rem; opacity: 0.9;"></i>
                        <h2 class="mt-3 mb-1" th:text="${totalOrders}">245</h2>
                        <p class="mb-2">Ukupno porudžbina</p>
                        <hr style="border-color: rgba(255,255,255,0.2); margin: 1rem 0;">
                        <small><i class="bi bi-arrow-up"></i> +12% od prošlog meseca</small>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="admin-card text-center" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); color: white;">
                        <i class="bi bi-hourglass-split" style="font-size: 3rem; opacity: 0.9;"></i>
                        <h2 class="mt-3 mb-1" th:text="${pendingOrders}">12</h2>
                        <p class="mb-2">Na čekanju</p>
                        <hr style="border-color: rgba(255,255,255,0.2); margin: 1rem 0;">
                        <small><i class="bi bi-exclamation-circle"></i> Zahteva pažnju</small>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="admin-card text-center" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); color: white;">
                        <i class="bi bi-box-seam" style="font-size: 3rem; opacity: 0.9;"></i>
                        <h2 class="mt-3 mb-1" th:text="${totalProducts}">87</h2>
                        <p class="mb-2">Aktivnih proizvoda</p>
                        <hr style="border-color: rgba(255,255,255,0.2); margin: 1rem 0;">
                        <small><i class="bi bi-check-circle"></i> U ponudi</small>
                    </div>
                </div>

                <div class="col-xl-3 col-md-6">
                    <div class="admin-card text-center" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white;">
                        <i class="bi bi-people" style="font-size: 3rem; opacity: 0.9;"></i>
                        <h2 class="mt-3 mb-1" th:text="${totalUsers}">1,234</h2>
                        <p class="mb-2">Registrovanih korisnika</p>
                        <hr style="border-color: rgba(255,255,255,0.2); margin: 1rem 0;">
                        <small><i class="bi bi-arrow-up"></i> +5 novih danas</small>
                    </div>
                </div>
            </div>

            <div class="row g-3 mb-4">
                <div class="col-lg-8">
                    <div class="admin-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="bi bi-activity"></i>
                                Pregled aktivnosti
                            </h3>
                        </div>

                        <div class="row g-3">
                            <div class="col-md-6">
                                <div class="p-3 rounded" style="background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); border-left: 4px solid #22c55e;">
                                    <h6 class="fw-bold mb-2" style="color: #16a34a;">
                                        <i class="bi bi-calendar-check me-2"></i>
                                        Današnje porudžbine
                                    </h6>
                                    <p class="mb-0 text-muted">8 novih porudžbina • 42.500 RSD</p>
                                </div>
                            </div>

                            <div class="col-md-6">
                                <div class="p-3 rounded" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left: 4px solid #f59e0b;">
                                    <h6 class="fw-bold mb-2" style="color: #d97706;">
                                        <i class="bi bi-currency-dollar me-2"></i>
                                        Prihod danas
                                    </h6>
                                    <p class="mb-0 text-muted">Prosek: 5.312 RSD po porudžbini</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="admin-card">
                        <div class="card-header">
                            <h3 class="card-title">
                                <i class="bi bi-bell"></i>
                                Obaveštenja
                            </h3>
                        </div>

                        <div class="d-flex flex-column gap-2">
                            <div class="p-2 rounded" style="background: #fef2f2; border-left: 3px solid #ef4444;">
                                <small class="fw-bold d-block mb-1">Hitne porudžbine</small>
                                <small class="text-muted">3 porudžbine za danas</small>
                            </div>

                            <div class="p-2 rounded" style="background: #fffbeb; border-left: 3px solid #f59e0b;">
                                <small class="fw-bold d-block mb-1">Niske zalihe</small>
                                <small class="text-muted">5 proizvoda treba dopuniti</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="admin-card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h3 class="card-title mb-0">
                        <i class="bi bi-receipt"></i>
                        Najnovije porudžbine
                    </h3>
                    <a th:href="@{/admin/orders}" class="btn btn-sm btn-outline-success">
                        <i class="bi bi-eye"></i> Prikaži sve
                    </a>
                </div>

                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead style="background: #f8fafc;">
                        <tr>
                            <th>ID</th>
                            <th>Korisnik</th>
                            <th>Datum</th>
                            <th>Iznos</th>
                            <th>Status</th>
                            <th>Akcije</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="fw-bold">#1001</td>
                            <td>Marko Marković</td>
                            <td>05.10.2025</td>
                            <td class="fw-bold text-success">8.500 RSD</td>
                            <td><span class="badge bg-warning text-dark">Na čekanju</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td class="fw-bold">#1002</td>
                            <td>Ana Anić</td>
                            <td>05.10.2025</td>
                            <td class="fw-bold text-success">12.300 RSD</td>
                            <td><span class="badge bg-success">Završeno</span></td>
                            <td>
                                <button class="btn btn-sm btn-outline-primary">
                                    <i class="bi bi-eye"></i>
                                </button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
</div>

<div class="mobile-overlay" id="mobileOverlay"></div>

<div th:replace="~{layouts/admin :: scripts}"></div>

</body>
</html>